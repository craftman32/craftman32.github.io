<!doctype html>
<html ng-app>
    <head>
        <script src="https://code.angularjs.org/angular-1.0.0rc3.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <style>
            .done-true{
                text-decoration: line-through;
                color: grey;
            }
        </style>
        <script type="text/javascript">
            function TodoCtrl($scope) {
                $scope.todos = [
                    {text:'Learn AngularJS', done:false},
                    {text:'Build an app', done:false}
                ];

                $scope.getTotalTodos = function () {
                    return $scope.todos.length;
                };

                $scope.clearCompleted = function () {
                    $scope.todos = _.filter($scope.todos, function(todo){
                        return !todo.done;
                    });
                };

                $scope.addTodo = function () {
                    $scope.todos.push({text:$scope.formTodoText, done:false});
                    $scope.formTodoText = '';
                };
            }
        </script>
    </head>
    <body>
        <div ng-controller="TodoCtrl">
            <h2>Total todos: {{getTotalTodos()}}</h2>
            <ul class="unstyled">
                <li ng-repeat="todo in todos">
                    <label>
                        <input type="checkbox" ng-model="todo.done">
                        <span class="done-{{todo.done}}">{{todo.text}}</span>
                    </label>
                </li>
            </ul>
            <form class="form-horizontal">
                <input type="text" ng-model="formTodoText" ng-model-instant>
            </form>
            <a class="btn btn-successs" ng-click="addTodo()">Add</a>
            <button class="btn-large" ng-click="clearCompleted()"><i class="icon-trash"></i>Clear Completed</button>
        </div>
    </body>
</html>